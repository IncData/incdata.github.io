"use strict";angular.module("website.core.humanize_duration",[]),angular.module("website.core.settings",["ng"]),angular.module("website.core.dependency",["website.core.settings"]),angular.module("website",["core.library.config","core.library.jsonrpc","website.core","website.widgets","website.plugins","website.moto_link","moto.validation"]).config(["$compileProvider","$httpProvider",function(e,t){e.debugInfoEnabled(!1),t.useApplyAsync(!0)}]).run(["jsonrpc",function(e){window.websiteConfig&&window.websiteConfig.apiUrl?e.setBasePath(websiteConfig.apiUrl):e.setBasePath("/api.php")}]),angular.module("website.widgets",["website.widgets.templates","website.widget.contact_form","website.widget.mail_chimp","website.widget.auth_form","website.widget.slider","website.widget.grid_gallery","website.widget.carousel","website.widget.disqus","website.widget.facebook_page_plugin","website.widget.twitter","website.widget.pinterest","website.widget.menu","website.widget.audio_player","website.widget.video_player","website.widget.social_buttons","website.widget.countdown","website.widget.accordion","website.widget.tabs","website.widget.actions"]);try{angular.module("website.plugins")}catch(e){angular.module("website.plugins",[])}try{angular.module("website.widgets.templates")}catch(e){angular.module("website.widgets.templates",[])}angular.module("website.core",["website.core.settings","website.core.dependency","website.core.humanize_duration"]),angular.module("website.core").config(["motoWebsiteSettingsServiceProvider",function(e){window.websiteConfig&&angular.isObject(window.websiteConfig)&&e.set(window.websiteConfig)}]),$("body").hasClass("moto-preview")||$(document).ready(function(){function e(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=1040}function t(){$(window).stellar({horizontalScrolling:!1,verticalScrolling:!0,responsive:!0})}function n(){if(!e())return $(window).stellar("destroy"),void $(".moto-parallax").css("background-position","");-1===window.navigator.userAgent.indexOf("Trident/")&&-1===window.navigator.userAgent.indexOf("Edge/")&&$(window).stellar("destroy"),t()}e()&&t(),$(document).on("lazybeforeunveil",".lazyload",function(e){$(e.target).one("load",n)}),$(window).on("resize",n),(new WOW).init(),window.websiteConfig&&window.websiteConfig.lazy_loading&&!window.websiteConfig.lazy_loading.enabled&&(window.lazySizesConfig.preloadAfterLoad=!0)}),angular.module("website.moto_link",["website.backend.RenderService"]),angular.module("moto.validation",[]),angular.module("website.backend.RenderService",["core.library.jsonrpc"]),angular.module("website").directive("motoBackToTopButton",["$window",function(e){var t=window.websiteConfig&&window.websiteConfig.back_to_top_button||{};return t.enabled="none"!==t.type,t.topOffset=parseInt(t.topOffset)||300,t.animationTime=parseInt(t.animationTime)||500,t.cssVisibleClass="moto-back-to-top-button_visible",t.cssAnimationClass="animated",{restrict:"EA",link:function(n,i){var o=angular.element(e),r=null,a=null;n.toTop=function(){try{$("body,html").animate({scrollTop:0},t.animationTime)}catch(e){}},t.enabled&&o.scroll(function(){i.removeAttr("style");try{(a=o.scrollTop()>t.topOffset)!==r&&((r=a)?(i.addClass(t.cssVisibleClass),i.addClass(t.cssAnimationClass)):(i.removeClass(t.cssVisibleClass),i.addClass(t.cssAnimationClass)))}catch(e){}})}}}]),angular.module("website").directive("motoBeforeInViewport",[function(){function e(e){var t=c.scrollTop(),n=t+c.height(),i=e.element.offset().top,o=i+e.element.outerHeight();return!!e.element.filter(":visible").length&&("part"===e.visibilityMode?!(o<t||i>n):"full"===e.visibilityMode?i>=t&&o<=n:(d&&console.error("motoBeforeInViewport : unexpected visibilityMode",e.visibilityMode),!0))}function t(e){d&&console.log("motoBeforeInViewport: item get in viewport",e),e.element.removeClass("moto-before-in-viewport"),e.element.addClass("moto-after-in-viewport"),e.onEnter&&e.$scope.$eval(e.onEnter),e.watchAlways?e.wasInViewport=!0:i(e)}function n(){l?u=!0:(r(),l=!0,u=!1,setTimeout(function(){l=!1,u&&n()},250))}function i(e){s.splice(s.indexOf(e),1),d&&console.log("motoBeforeInViewport: removed",s),0===s.length&&(d&&console.info("motoBeforeInViewport: last element removed, unbind scroll handler"),c.off("resize",n).off("scroll",n))}function o(e){d&&console.log("motoBeforeInViewport: item leave frome viewport",e),e.element.removeClass("moto-after-in-viewport"),e.element.addClass("moto-before-in-viewport"),e.wasInViewport=!1,e.onLeave&&e.$scope.$eval(e.onLeave)}function r(){var n;for(n=0;n<s.length;n++)e(s[n])?s[n].wasInViewport||t(s[n]):s[n].wasInViewport&&o(s[n])}function a(e){s.push(e),d&&console.log("motoBeforeInViewport: added",s),1===s.length&&(d&&console.info("motoBeforeInViewport: first element added, bind scroll handler"),c.on("resize",n).on("scroll",n))}var s=[],c=$(window),d=!1,l=!1,u=!1;return{restrict:"C",link:function(n,i,o){var r={};r.element=i,r.$scope=n,r.onEnter=o.motoBeforeInViewportOnEnter,r.onLeave=o.motoBeforeInViewportOnLeave,r.visibilityMode=o.motoBeforeInViewportMode||"part",r.watchAlways=o.motoBeforeInViewportWatchAlways||!1,r.wasInViewport=e(r),r.wasInViewport&&(t(r),!r.watchAlways)||a(r)}}}]),angular.module("website.core.dependency").directive("motoDependencyRequire",["motoDependencyService",function(e){return{restrict:"A",link:function(t,n,i){var o=i.motoDependencyRequire,r=o;try{r=t.$eval(r),angular.isUndefined(r)&&(r=o)}catch(e){r=o}angular.isFunction(r)&&(r=r()),e.require(r)}}}]),angular.module("website.core.dependency").provider("motoDependencyService",["motoWebsiteSettingsServiceProvider",function(e){function t(e){var t=[];for(var n in e)e[n].length>0&&t.push(n+"="+e[n]);return t.join("&")}function n(){return c}function i(){return d}function o(e){if(!angular.isArray(e)){try{if(!l[e])return!1;var t=l[e],i=t.scriptId||"connector_"+e,r=document.getElementById(i);if(r)return;(r=document.createElement("script")).id=i,r.src=t.getUrl(),r.type="text/javascript",t.preInject(r),n().appendChild(r),t.postInject(r)}catch(e){return!1}return!0}angular.forEach(e,function(e){o(e)})}function r(e){return l[e]}var a=null,s={},c=angular.element("head").get(0),d=angular.element("body").get(0),l={};l={disqus:{name:"disqus",urlTemplate:"//{{shortname}}.disqus.com/embed.js",params:{},setParams:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setParam(t,e[t]);return this},getParams:function(){return this.params},setParam:function(e,t){return this.params[e]=t,""!=t&&(window["disqus_"+e]=t),this},getParam:function(e,t){return angular.isUndefined(this.params[e])?angular.isUndefined(window["disqus_"+e])?t:window["disqus_"+e]:this.params[e]},getUrl:function(){return this.urlTemplate.replace(/\{\{shortname\}\}/gi,this.getParam("shortname"))},preInject:angular.noop,postInject:angular.noop,require:function(){return s.require(this.name),this}},facebook:{name:"facebook",scriptId:"facebook-jssdk",urlTemplate:"//connect.facebook.net/{{language}}/sdk.js#{{params}}",language:"en_US",getLanguage:function(){return this.language},setLanguage:function(e){return this.language=e},getUrl:function(){return this.urlTemplate.replace(/\{\{language\}\}/gi,this.getLanguage()).replace(/\{\{params\}\}/gi,t(this.getParams()))},params:{version:"v2.8",xfbml:"1",appId:""},setParams:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setParam(t,e[t]);return this},getParams:function(){return this.params},setParam:function(e,t){return this.params[e]=t,this},getParam:function(e,t){return angular.isUndefined(this.params[e])?t:this.params[e]},preInject:function(e){var t=document.getElementById("fb-root");t||((t=document.createElement("div")).id="fb-root",i().appendChild(t))},postInject:angular.noop,require:function(){return s.require(this.name),this}},twitter:{name:"twitter",scriptId:"twitter-wjs",url:"//platform.twitter.com/widgets.js",getUrl:function(){return this.url},params:{},setParams:function(e){for(var t in e)e.hasOwnProperty(t)&&this.setParam(t,e[t]);return this},getParams:function(){return this.params},setParam:function(e,t){return this.params[e]=t,this},getParam:function(e,t){return angular.isUndefined(this.params[e])?t:this.params[e]},preInject:angular.noop,postInject:angular.noop,require:function(){return s.require(this.name),this}},pinterest:{name:"pinterest",scriptUrl:"//assets.pinterest.com/js/pinit.js",getUrl:function(){return this.scriptUrl},preInject:angular.noop,postInject:angular.noop,require:function(){return s.require(this.name),this}},linkedin:{name:"linkedin",scriptUrl:"//platform.linkedin.com/in.js",getUrl:function(){return this.scriptUrl},preInject:function(t){var n=e.get("preferredLocale","en_US"),i=t.innerText;window._DependencyServiceOnLinkedInLoad=function(){a&&a.$emit("motoDependencyService.linkedin.loaded"),window._DependencyServiceOnLinkedInLoad=function(){}},i+=" onLoad: _DependencyServiceOnLinkedInLoad\n",n&&(i+=" lang: "+n),t.textContent=i},postInject:angular.noop,require:function(){return s.require(this.name),this}},google_plus:{name:"google_plus",scriptUrl:"https://apis.google.com/js/platform.js",getUrl:function(){return this.scriptUrl},preInject:function(t){var n=window.___gcfg||{};n.lang=n.lang||e.get("preferredLocale","en_US"),window.___gcfg=n},postInject:angular.noop,require:function(){return s.require(this.name),this}}},this.require=o,s.require=o,this.get=r,s.get=r,this.$get=["$rootScope",function(e){return a=e,s}]}]),angular.module("website.core.humanize_duration").filter("humanizeDuration",["motoHumanizeDuration",function(e){return function(t,n,i){return e.humanize(t,n,i)}}]),angular.module("website.core.humanize_duration").provider("motoHumanizeDuration",[function(){var e=this,t={y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1},n={years:"y",months:"mo",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"ms"};this.humanize=function(e,i,o){var r;return(!o||humanizeDuration.getSupportedLanguages().indexOf(o)<0)&&(o="en"),n[i]&&(i=n[i]),(r=humanizeDuration(e*t[i],{spacer:">",language:o,units:[i],round:!0})).substr(r.indexOf(">")+">".length)},this.$get=[function(){return e}]}]),angular.module("website.core.settings").provider("motoWebsiteSettingsService",[function(e){var t=this,n={};this.get=function(t,i){return t===e?n:n[t]!==e?n[t]:i||null},this.set=function(e,i){if(!angular.isObject(e))return n[e]=i,t;for(var o in e)e.hasOwnProperty(o)&&t.set(o,e[o])},this.$get=[function(){return t}]}]),angular.module("website").directive("motoBackgroundVideo",function(){return{restrict:"A",link:function(e,t){t.find("video").attr("playsinline",""),t.find("video").trigger("play")}}}),angular.module("website.moto_link").run(["$timeout",function(e){$("body").on("click",".moto-link[data-action=lightbox]",function(t){var n=$(t.currentTarget);t.preventDefault(),e(function(){$.magnificPopup.open({items:{tClose:"",tLoading:"",src:n.attr("href"),title:n.attr("title")||"",type:"image"}})})})}]),angular.module("website.moto_link").run(["website.MotoPopupService",function(e){$("body").on("click",".moto-link",function(t){var n=$(t.currentTarget),i=n.attr("data-popup-id"),o=n.data("action");if(i=parseInt(i),"popup"===o&&!(i>0))return!1;"popup"===o&&(t.preventDefault(),e.openPopup(i))})}]),angular.module("website").service("website.MotoPopupService",["$rootScope","$timeout","$q","$compile","Website.Backend.RenderService",function(e,t,n,i,o){function r(e){$(".mfp-content").css("width",e)}function a(e){p.push(e)}function s(){return p.shift()}function c(){return angular.isObject($.magnificPopup.instance.currItem)}function d(t){function a(){m=!1,u&&u.$destroy(),s&&(s=n.reject(s,"rejecting"))}var s,d=window.websiteConfig&&window.websiteConfig.popup_preferences&&window.websiteConfig.popup_preferences.loading_error_message||"",l=!1,m=c();m&&($.magnificPopup.close(),a()),m=!0,$.magnificPopup.open({items:{src:'<div id="moto-popup-content"></div>',type:"inline"},showCloseBtn:!1,closeOnBgClick:!1,mainClass:"moto-popup",callbacks:{open:function(){$.magnificPopup.instance.updateStatus("loading")},close:function(){l||a()}}}),s=o.render({id:t}).then(function(t){var n;2!==s.$$state.status&&m&&(n=$(t.content),l=!0,$.magnificPopup.close(),l=!1,$.magnificPopup.open({items:{src:n,type:"inline"},mainClass:"moto-popup",closeOnBgClick:!1,callbacks:{open:function(){r(t.properties.width),u=e.$new(),n=i(n)(u)},close:function(){a()}}}),m=!0)},function(e){m&&(m=!0,$.magnificPopup.instance.updateStatus("ready"),r("1200px"),$("#moto-popup-content").addClass("moto-popup__content_error").html(d))})}function l(){c()||0===p.length||d(s())}var u,m=500,p=[];!function(){var e=$.magnificPopup.proto._close;$.magnificPopup.proto._close=function(){var n=e.apply(this,arguments);return t(l,m),n}}(),this.pleaseOpenPopup=function(e){c()?a(e):d(e)},this.openPopup=d}]),angular.module("website").directive("motoSticky",["$window","$timeout",function(e,t){function n(){return window.motoDebug||!1}function i(e){var t,n,i,o,r,a;return"static"===e.options.mode||(i=e.isAttached||e.options.hidden?e.$pseudoElement:e.$element,a=i.get(0).getBoundingClientRect(),o=!1,r=e.options.offset,t=parseInt(i.css("marginTop"))||0,"smallHeight"===e.options.mode?(n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a.top+i.outerHeight()<n):("top"===e.options.direction&&(o=a.top-t<=r),o))}function o(e){var t=0;try{e.$pseudoElement.show(),_||e.$element.innerWidth(e.$pseudoElement.innerWidth()),e.options.hidden||e.$pseudoElement.height(e.$element.outerHeight(!0)),_&&(e.$pseudoElement.hide(),e.$element.removeClass(b.attachedClass).removeClass(b.attachedClass+"_"+e.options.direction).css("width","").css("marginTop",""),t=e.$element.innerWidth(),e.$pseudoElement.show(),e.$element.innerWidth(t),e.$pseudoElement.innerWidth(t),e.$element.addClass(b.attachedClass).addClass(b.attachedClass+"_"+e.options.direction))}catch(e){n()&&console.info("motoSticky : ERROR on syncPseudoElement",e)}}function r(e){return e.isAttached||(e.$element.show().addClass(b.attachedClass).addClass(b.attachedClass+"_"+e.options.direction),e.isAttached=!0),o(e),!0}function a(e){if(e.$pseudoElement.width(e.$element.innerWidth()),!e.isAttached)return!0;e.$element.css("width",""),e.isAttached=!1,e.$element.removeClass(b.attachedClass).removeClass(b.attachedClass+"_"+e.options.direction),e.options.hidden?(e.$pseudoElement.height(0),e.$element.hide()):e.$pseudoElement.hide()}function s(e){try{i(e)?r(e):a(e)}catch(e){n()&&console.info("motoSticky : ERROR on checkObject",e)}}function c(e){var i,o;try{if(e||(w&&t.cancel(w),w=t(c,b.interval)),!C||y.length<1)return;for(C=!1,o=0,i=y.length;o<i;o++)s(y[o]);_=!1}catch(e){n()&&console.info("motoSticky : ERROR on checkObjects",e)}}function d(e){e.$pseudoElement||(e.$pseudoElement=angular.element('<div class="'+b.pseudoElementClass+'"></div>'),e.$pseudoElement.insertAfter(e.$element),e.options.hidden?e.$pseudoElement.height(0):(e.$pseudoElement.hide(),e.$pseudoElement.height(e.$element.outerHeight(!0)),e.$pseudoElement.width(e.$element.innerWidth())))}function l(e){e.$element.find(".lazyload").each(function(t,n){$(n).one("load",function(){s(e)})})}function u(e){"resize"===e.type&&(_=!0),C=!0}function m(){_=!0,C=!0}function p(e,t){t.hasClass("moto-sticky__handlers-attached")||(t.addClass("moto-sticky__handlers-attached").on("scroll",m),e.$on("$destroy",function(){t.off("scroll")}))}function g(e,t,i){var o,r,a=t.parents(".moto-popup_content"),c=!!a.length;try{if(t.parent().closest("."+b.bootstrappedClass).length>0)return n()&&console.log("motoSticky : DETECTED PARENTS");r=e.$eval(i.motoSticky),c&&(r.offset=h,p(e,a)),l(o={$scope:e,$element:t,$attrs:i,options:angular.extend({},v,r),isAttached:!1}),d(o),s(o),y.push(o)}catch(e){n()&&console.info("motoSticky : ERROR on addObject",e)}}var w,f=angular.element(e),h=50,b={interval:32,attachedClass:"moto-sticky__attached",bootstrappedClass:"moto-sticky__bootstrapped",pseudoElementClass:"moto-sticky-pseudo-element"},v={hidden:!1,offset:0,mode:"dynamic",direction:"top"},y=[],C=!0,_=!0;return c(),f.scroll(u).resize(u),{restrict:"A",compile:function(e){return e.addClass(b.bootstrappedClass),g}}}]),angular.module("moto.validation").directive("motoClearValidationOnChange",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){var o,r,a;!(o=e.$eval(n.motoClearValidationOnChange))&&n.motoClearValidationOnChange&&(o=n.motoClearValidationOnChange),o&&!angular.isArray(o)&&(o=[o]),i.$parsers.push(function(e){for(r=0,a=o.length;r<a;r++)i.$setValidity(o[r],!0);return e})}}}),angular.module("website.backend.RenderService").service("Website.Backend.RenderService",["jsonrpc",function(e){var t=e.newService("Website.RenderService");this.render=t.createMethod("render")}]),angular.module("website.widget.accordion",[]).directive("motoWidgetAccordion",function(){function e(e){e.opened=!1,e.$wrapperNode.slideUp({duration:s,start:function(){e.$node.addClass(a).removeClass(r)},complete:function(){e.$node.removeClass(a)}})}function t(e){e.opened=!0,e.$wrapperNode.slideDown({duration:s,start:function(){e.$node.addClass(a).addClass(r)},complete:function(){e.$node.removeClass(a)}}),c.resize()}function n(n){n.opened?e(n):t(n)}function i(t){var n;for(n in t)t.hasOwnProperty(n)&&t[n].opened&&e(t[n])}function o(e){var t,n,i={};for(n=0;n<e.length;n++)i[(t=angular.element(e[n])).attr("id")||t.attr("data-widget-id")]={$node:t,opened:t.hasClass(r),$wrapperNode:t.children(".moto-widget-accordion__content-wrapper")};return i}var r="moto-widget-accordion__item_open",a="moto-widget-accordion__item_collapsing",s=400,c=$(window);return{restrict:"C",scope:!0,controller:["$scope","$element",function(e,r){function a(){c=o(r.find(">.moto-widget-accordion__wrapper>.moto-widget-accordion__item")),s=angular.isDefined(r.attr("data-close-others"))}var s,c={};a(),e.$on("motoWidgetAccordion:updateData",a),r.on("click",">.moto-widget-accordion__wrapper>.moto-widget-accordion__item>.moto-widget-accordion__header",function(e){var o=$(e.currentTarget).attr("data-widget-id"),r=c[o];r.opened||!s?n(r):(i(c),t(r))})}]}}),angular.module("website.widget.audio_player",["website.core"]).directive("motoWidgetAudioPlayer",["$rootScope",function(e){return{restrict:"AC",link:function(t,n){var i,o,r=n.find(".moto-media-player-container").data("buttons");i=n.find("audio"),o=n.find("source"),i.mediaelementplayer({setDimensions:!1,alwaysShowControls:!0,motoTrackName:o.data("track-name")||"",loop:i.data("loop"),timeAndDurationSeparator:"<span>/</span>",startVolume:1,playText:"",pauseText:"",stopText:"",features:["playpause",r.stop?"stop":"","progress","current","duration","mototrackname","volume",r.loop?"motoloop":"","motoskin"],plugins:[],duration:o.data("track-length")}),!e.isAnyAutoPlayStarted&&i.data("autoplay")&&(e.isAnyAutoPlayStarted=!0,i[0].player.play()),t.$on("$destroy",function(){e.isAnyAutoPlayStarted=!1})}}}]),angular.module("website.widget.auth_form",["core.library.jsonrpc"]).service("widget.AuthForm.Service",["jsonrpc",function(e){var t=e.newService("AuthService");this.loginToPageByPassword=t.createMethod("loginToPageByPassword")}]).directive("motoWidgetAuthForm",["widget.AuthForm.Service","$window",function(e,t){return{restrict:"C",scope:!0,link:function(n,i,o){n.request={password:"",pageId:o.destinationPageId},n.submit=function(){n.request.pageId&&(n.authForm.password.$setTouched(),n.authForm.$valid&&e.loginToPageByPassword(n.request).then(function(){t.location.reload()},function(e){e&&"403"==e.code?n.authForm.password.$setValidity("passwordInvalid",!1):n.authForm.password.$setValidity("couldNotSend",!1)}))}}}}]),angular.module("website.widget.carousel",[]).directive("motoCarouselOptions",function(){return{restrict:"A",priority:450,link:function(e,t,n){var i,o=e.$eval(n.motoCarouselOptions);i=t.bxSlider(function(e){return 1==e.itemsCount&&(e.showPaginationDots=!1),{mode:"horizontal",auto:e.slideshowEnabled,pause:1e3*e.slideshowDelay,controls:e.showNextPrev,pager:e.showPaginationDots,slideWidth:e.slideWidth,minSlides:e.minSlides,maxSlides:e.maxSlides,moveSlides:e.moveSlides,slideMargin:e.margins,stopAutoOnClick:!0,shrinkItems:!0,onSliderLoad:function(){t.closest(".moto-widget-carousel").removeClass("moto-widget-carousel-loader")}}}(o)),e.$on("$destroy",i.destroySlider)}}}),angular.module("website.widget.contact_form",["core.library.jsonrpc","ngFileUpload"]).service("widget.ContactForm.Service",["jsonrpc",function(e){var t=e.newService("Widget.ContactForm");this.sendMessage=t.createMethod("sendMessage"),this.getApiPath=e.getBasePath}]).controller("widget.ContactForm.Controller",["$scope","$element","widget.ContactForm.Service","Upload",function(e,t,n,i){function o(){e.emailError=!0,e.sending=!1}function r(t){if(t.error)return o(t.error);e.emailSent=!0,e.triedToSend=!1,e.sending=!1}var a,s,c,d,l,u=t.find("input, textarea"),m=/^[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z0-9-]+)$/;if(e.message={},e.placeholder={},e.hash="",e.attachments=[],e.attachment={},u.length)for(d=0,l=u.length;d<l;d++)(s=(a=angular.element(u[d])).attr("name"))&&(e.message[s]=e.message[s]||"",e.placeholder[s]="checkbox"===s?t.find(".moto-widget-contact_form-checkbox-text").text()||s:a.attr("placeholder")||s);e.validateEmailOnBlur=function(){e.contactForm.email.$pristine=!1,""!==e.contactForm.email.$viewValue?m.test(e.contactForm.email.$viewValue)?(e.contactForm.email.emailInvalid=!1,e.contactForm.email.$setValidity("pattern",!0)):(e.contactForm.email.emailInvalid=!0,e.contactForm.email.$setValidity("pattern",!1)):e.contactForm.email.emailInvalid=!1},e.validateRequiredOnBlur=function(t){e.contactForm[t].$pristine=!1,""===e.contactForm[t].$viewValue?(e.contactForm[t].$invalid=!0,e.contactForm.$valid=!1):e.contactForm[t].$invalid=!1},e.validate=function(t){"email"===t&&e.validateEmailOnBlur(),e.validateRequiredOnBlur(t)},e.validateCheckbox=function(){c&&(e.contactForm.checkbox.$pristine=!1,e.contactForm.checkbox.$viewValue?(e.contactForm.checkbox.$invalid=!1,e.contactForm.checkbox.$setValidity("required",!0)):(e.contactForm.checkbox.$invalid=!0,e.contactForm.checkbox.$setValidity("required",!1),e.contactForm.$valid=!1))},e.checkboxChanged=function(){e.contactForm.checkbox.$invalid&&e.validateCheckbox()},e.requiredCheckbox=function(){c=!0},e.errors=[],e.emailSent=!1,e.triedToSend=!1,e.submit=function(){e.sending||(e.emailSent=!1,e.triedToSend=!0,e.errors=[],e.sending=!0,e.emailError=!1,"object"==typeof e.contactForm.$error.required?(e.contactForm.$error.required.forEach(function(e){e.$dirty=!0,e.$pristine=!1,e.$setTouched()}),e.contactForm.$valid=!1):e.contactForm.$valid=!0,e.contactForm.email&&e.validate("email"),e.contactForm.checkbox&&e.validateCheckbox(),e.contactForm&&e.contactForm.$valid?e.attachment.name?(e.message._attachments=e.attachment.name?1:0,i.upload({method:"POST",url:n.getApiPath(),file:e.attachment,data:{jsonrpc:"2.0",id:1,method:"Widget.ContactForm.sendMessage",params:{message:e.message,placeholder:e.placeholder,hash:e.hash}},headers:{"X-Requested-With":"XMLHttpRequest"}}).success(r).error(o)):n.sendMessage({message:e.message,placeholder:e.placeholder,hash:e.hash}).success(r).error(o):e.sending=!1)}}]),angular.module("website.widget.countdown",["timer","website.core.humanize_duration"]).directive("motoWidgetCountdown",["$window",function(e){function t(e,t){var n,i,o,r,a,s,c,d,l;return(d=new Date).setTime(e),c=d.getMilliseconds(),s=d.getSeconds(),a=d.getMinutes(),r=d.getHours(),o=d.getDate(),i=d.getMonth(),n=d.getFullYear(),(l=new Date).setUTCFullYear(n),l.setUTCDate(1),l.setUTCMonth(i||0),l.setUTCDate(o||1),l.setUTCHours(r||0),l.setUTCMinutes((a||0)-(Math.abs(t)<30?60*t:t)),l.setUTCSeconds(s||0),l.setUTCMilliseconds(c||0),l.getTime()}return{restrict:"C",scope:!0,compile:function(n,i){function o(){"hide"===i.onExpiry?n.slideUp():"redirect"===i.onExpiry&&i.redirectUrl&&(e.location.href=i.redirectUrl)}var r,a,s,c=n.children("timer"),d=n.find(".countdown-item-amount"),l=parseFloat(i.time),u=(new Date).getTime();for(s=0;s<d.length;s++)a=(r=angular.element(d[s])).attr("data-ng-bind"),0===s&&c.attr("max-time-unit","'"+a.slice(0,-1)+"'"),["hours","minutes","seconds"].indexOf(a)>=0&&r.attr("data-ng-bind",a[0]+a);return{pre:function(e){"event"===i.type?e.countdownTime=(t(l,parseFloat(i.timezone))-u)/1e3:e.countdownTime=l/1e3,(!e.countdownTime||isNaN(e.countdownTime)||e.countdownTime<0)&&(e.countdownTime=0),i.onExpiry&&"stop"!==i.onExpiry&&e.$on("timer-stopped",o)}}}}}]),angular.module("website.widget.disqus",["website.core"]).directive("motoWidgetDisqus",["motoDependencyService",function(e){var t=!1;return{restrict:"AC",link:function(n,i,o){var r;try{if(t)return i.remove();t=!0,r=o.params||{},angular.isString(r)&&(r=angular.fromJson(r)),r.url=o.url,window.disqus_config=function(){this.language=r.language},r.use_identifier?delete r.url:delete r.identifier,delete r.use_identifier,r&&r.shortname&&""!=r.shortname&&e.get("disqus").setParams(r).require()}catch(e){}}}}]),angular.module("website.widget.facebook_page_plugin",["website.core"]).config(["motoWebsiteSettingsServiceProvider","motoDependencyServiceProvider",function(e,t){try{t.get("facebook").setLanguage(e.get("preferredLocale","en_US"))}catch(e){}}]).directive("motoWidgetFacebookPagePlugin",["motoDependencyService",function(e){return{restrict:"AC",link:function(){try{e.require("facebook")}catch(e){}}}}]),angular.module("website.widget.grid_gallery",[]).directive("motoGridGalleryOptions",function(){return{restrict:"A",priority:450,link:function(e,t,n){var i=e.$eval(n.motoGridGalleryOptions);t.justifiedGallery({rowHeight:i.rowHeight,maxRowHeight:i.fixedHeight?i.rowHeight:0,margins:i.margins,lastRow:i.lastRow,captions:i.showCaptions,cssAnimation:!0}),i.enableLightbox&&t.magnificPopup({delegate:"a",type:"image",tClose:"",tLoading:"",mainClass:i.showCounter?"":"moto-lightbox_hidden-counter",gallery:{enabled:!0,preload:[5,10],tPrev:"",tNext:"",tCounter:"%curr% / %total%"},image:{titleSrc:function(e){return angular.element(".caption",e.el.context).html()||""}},zoom:{enabled:!0,duration:400,easing:"ease-in-out"}})}}}),angular.module("website.widget.mail_chimp",["core.library.jsonrpc"]).service("website.widget.MailChimpService",["jsonrpc",function(e){var t=e.newService("Widget.MailChimp");this.subscribe=t.createMethod("subscribe")}]).controller("widget.MailChimp.Controller",["$scope","$element","website.widget.MailChimpService",function(e,t,n){function i(){e.emailSent=!0,e.triedToSend=!1,e.sending=!1}function o(t){e.emailError=!0,e.sending=!1,t.data&&t.data.errors&&t.data.errors.detail&&(e.isSubscribed=t.data.errors.detail.match(/is already a list member/g))}var r,a,s,c=t.find("input"),d=/^[_a-zA-Z0-9-]+(\.[_a-zA-Z0-9-]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*(\.[a-zA-Z0-9-]+)$/,l=c.length;if(e.listId="",e.message={},e.emailSent=!1,e.triedToSend=!1,e.emailError=!1,e.isSubscribed=!1,l)for(a=0;a<l;a++)(r=angular.element(c[a]).attr("name"))&&(e.message[r]=e.message[r]||"");e.validateEmailOnBlur=function(){e.subscribeForm.email.$pristine=!1,""!=e.subscribeForm.email.$viewValue?d.test(e.subscribeForm.email.$viewValue)?(e.subscribeForm.email.emailInvalid=!1,e.subscribeForm.email.$setValidity("pattern",!0)):(e.subscribeForm.email.emailInvalid=!0,e.subscribeForm.email.$setValidity("pattern",!1)):e.subscribeForm.email.emailInvalid=!1},e.validateRequiredOnBlur=function(t){e.subscribeForm[t].$pristine=!1,""==e.subscribeForm[t].$viewValue?(e.subscribeForm[t].$invalid=!0,e.subscribeForm.$valid=!1):e.subscribeForm[t].$invalid=!1},e.validate=function(t){"email"==t?(e.validateEmailOnBlur(),e.validateRequiredOnBlur(t)):e.validateRequiredOnBlur(t)},e.validateCheckbox=function(){s&&(e.subscribeForm.checkbox.$pristine=!1,e.subscribeForm.checkbox.$viewValue?(e.subscribeForm.checkbox.$invalid=!1,e.subscribeForm.checkbox.$setValidity("required",!0)):(e.subscribeForm.checkbox.$invalid=!0,e.subscribeForm.checkbox.$setValidity("required",!1),e.subscribeForm.$valid=!1))},e.checkboxChanged=function(){e.subscribeForm.checkbox.$invalid&&e.validateCheckbox()},e.requiredCheckbox=function(){s=!0},e.submit=function(){e.sending||(e.emailSent=!1,e.triedToSend=!0,e.sending=!0,e.emailError=!1,e.isSubscribed=!1,"object"==typeof e.subscribeForm.$error.required?(e.subscribeForm.$error.required.forEach(function(e){e.$dirty=!0,e.$pristine=!1,e.$setTouched()}),e.subscribeForm.$valid=!1):e.subscribeForm.$valid=!0,e.validate("email"),e.validateCheckbox(),e.subscribeForm&&e.subscribeForm.$valid&&!e.subscribeForm.emailInvalid?(e.message.list_id=e.listId||"",n.subscribe({request:e.message}).success(i).error(o)):e.sending=!1)}}]),angular.module("website.widget.menu",[]).directive("motoWidgetMenu",function(){function e(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=768}function t(e){e.$element.find(".moto-widget-menu-item-has-submenu_opened").removeClass("moto-widget-menu-item-has-submenu_opened"),e.$element.find(".moto-widget-menu-sublist").css("display",""),e.$element.removeClass("moto-widget-menu-mobile-open")}var n,i=$(window),o=[];return n=e(),i.on("resize",function(){var i,r,a=e();if(n!==a&&(n=a,a))for(i=0,r=o.length;i<r;i++)try{t(o[i])}catch(e){}}),{restrict:"C",priority:450,link:function(e,t){var n=t.find(".moto-widget-menu-toggle-btn"),i=t.find(".moto-widget-menu-item-has-submenu"),r=i.find(".moto-widget-menu-sublist"),a=t.find(".moto-widget-menu-link-arrow");o.push({$element:t,$toggleButton:n}),n.on("click",function(e){e.preventDefault(),t.toggleClass("moto-widget-menu-mobile-open"),t.hasClass("moto-widget-menu-mobile-open")&&a.is(":visible")&&r.hide()}),i.length&&a.on("click",function(e){n.is(":hidden")||(e.preventDefault(),$(this).closest(".moto-widget-menu-item-has-submenu").toggleClass("moto-widget-menu-item-has-submenu_opened").find("> .moto-widget-menu-sublist").toggle())})}}}),angular.module("website.widget.pinterest",["website.core"]).directive("motoWidgetPinterest",["motoDependencyService",function(e){return{restrict:"AC",link:function(){try{e.get("pinterest").require()}catch(e){}}}}]),angular.module("website.widget.slider",[]).directive("motoSliderOptions",function(){return{restrict:"A",priority:450,link:function(e,t,n){var i,o=e.$eval(n.motoSliderOptions);i=t.bxSlider(function(e){return 1==e.itemsCount&&(e.showPaginationDots=!1),{mode:e.slideshowAnimationType,auto:e.slideshowEnabled,pause:1e3*e.slideshowDelay,controls:e.showNextPrev,pager:e.showPaginationDots,captions:e.showSlideCaptions,stopAutoOnClick:!0,onSliderLoad:function(){t.closest(".moto-widget-slider").removeClass("moto-widget-slider-loader")}}}(o)),e.$on("$destroy",i.destroySlider)}}}),angular.module("website.widget.social_buttons",["website.core"]).directive("motoWidgetSocialButtons",["$rootScope",function(e){return{restrict:"AC",link:function(t,n){function i(){var e,t;try{(e=n.find('li.social-button[data-name="linkedIn_share"]')).length&&(e=angular.element(e.get(0)),t=angular.element(e.html().replace("<span","<script").replace("</span>","<\/script>")),e.get(0).parentNode.replaceChild(t.get(0),e.get(0)),IN.parse())}catch(e){}}window.IN&&angular.isFunction(window.IN.parse)?i():e.$on("motoDependencyService.linkedin.loaded",i)}}}]),angular.module("website.widget.tabs",[]).directive("motoWidgetTabs",[function(){function e(e,t){var n={};return n.id=e,n.$root=t.find("#"+e),n.$desktopHeader=t.find(o+'[data-tab="'+e+'"]'),n.$mobileHeader=n.$root.find(">.moto-widget-tabs__header"),n.$contentWrapper=n.$root.find(">.moto-widget-tabs__content-wrapper"),n}function t(e){return e.find(s).data("tab")}function n(e){e.$contentWrapper.show(),e.$desktopHeader.addClass(a),e.$mobileHeader.addClass(a)}function i(e){e.$contentWrapper.hide(),e.$desktopHeader.removeClass(a),e.$mobileHeader.removeClass(a)}var o=">.moto-widget-tabs__headers-wrapper>.moto-widget-tabs__header",r=o+",>.moto-widget-tabs__items-wrapper>.moto-widget-tabs__item>.moto-widget-tabs__header",a="moto-widget-tabs__header_opened",s=o+"."+a,c=$(window);return{restrict:"C",scope:!0,controller:["$scope","$element",function(o,a){function s(){d=t(a)}var d;s(),o.$on("motoWidgetTabs:updateData",s),a.on("click",r,function(t){var o=$(t.currentTarget).data("tab");o!==d&&(i(e(d,a)),n(e(d=o,a)),c.resize())})}]}}]),angular.module("website.widget.twitter",["website.core","website.widget.twitter.time_line"]),angular.module("website.widget.twitter.time_line",["ng"]).directive("motoWidgetTwitterTimeLine",["motoDependencyService",function(e){return{restrict:"AC",link:function(){try{e.require("twitter")}catch(e){}}}}]),angular.module("website.widget.video_player",["website.core"]).directive("motoWidgetVideoPlayer",["$rootScope",function(e){return{restrict:"AC",link:function(t,n){var i;(i=n.find("video")).on("loadeddata",function(){n.removeClass("moto-media-player_not-loaded").addClass("moto-media-player_loaded"),i[0].player.options.alwaysShowControls=!1}),i.mediaelementplayer({motoTrackName:i.data("title")||"",timeAndDurationSeparator:"<span>/</span>",startVolume:1,playText:"",pauseText:"",alwaysShowControls:!0,stopText:"",fullscreenText:"",videoVolume:"horizontal",features:["playpause","progress","current","duration","mototrackname","volume","fullscreen","motoskin"],plugins:[],duration:i.data("duration")}),!e.isAnyAutoPlayStarted&&i.data("autoplay")&&(e.isAnyAutoPlayStarted=!0,i[0].player.play()),t.$on("$destroy",function(){e.isAnyAutoPlayStarted=!1})}}}]),angular.module("website.widget.actions",["website.widget.actions.open_popup"]),angular.module("website.widget.actions.open_popup",[]).directive("motoWidgetActionsOpenPopup",["$timeout","website.MotoPopupService",function(e,t){return{restrict:"C",scope:!0,link:function(n,i,o){var r=n.$eval(o.actionsOpenPopupOptions);r.popupId&&"timer"===r.triggerType&&e(function(){t.pleaseOpenPopup(r.popupId)},r.delayTime)}}}]);